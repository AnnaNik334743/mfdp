# Cервис

### Что из себя представляет сервис

Сервис включает не только распознование, но и диаризацию (разделение на спикеров). Диаризация реализована с помощью библиотеку Pyannote. На данный момент, модуль диаризации не дообучался, однако это можно попробовать сделать в будущем, так как качество не идеально.

Бэкенд реализован с помощью фреймворка FastAPI. 

Фронтенд реализован с помощью инструментов Bootstrap, а также языка программирования JavaScript. 

На данный момент можно загрузить файл с компьютера или записать с помощью микрофона. Сделать сервис для записи непосредственно конференций пока не удалось.

Распознанный текст выводится на экран. Его можно подкорректировать вручную и сохранить в виде txt-файла. 

На данный момент, в сервис встроена нефайнтюниная маленькая модель распознавания речи. Дообученную добавлю в самое ближайшее время, небольшие технические накладки. :(


### Как запустить сервис

(Можете попробовать открыть по ссылке http://158.160.41.130:8080/asr

Есть большая вероятность, что он у меня запущен в данный момент.  Только, если хотите сделать доступной запись микрофона, выполните пункт 3 из инструкции ниже)

1. Перейти в директорию service.

2. на 155 строке файла ./templates/index.html заменить адрес на адрес свой машины.

3. Чтобы получить доступ к записи с микрофона, если вы запускаете сервис на удаленном сервере, для гугл хром необходимо перейти в chrome://flags/#unsafely-treat-insecure-origin-as-secure и в разделе  Insecure origins treated as secure включить адрес своей машины вместе с портом, на котором находится сервис

4. Выполнить в командной строке следующие команды:

* docker build . -t asr_service
* docker run -d -p 8080:8080 -v $(pwd):/app asr_service

Модель загружается после построения контейнера. К сожалению, не придумал пока как это можно сделать иначе. 


