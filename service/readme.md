# Cервис

### Что из себя представляет сервис

Бэкенд реализован с помощью фреймворка FastAPI. Сервис должен включать не только распознование, но и диаризацию(разделение на спикеров). На данный момент этот функционал не включен в сервис, хотя фронтенд для него уже сделан и в ноутбуке сделан пайплайн для такого функционала.

Фронтенд реализован с помощью инструментов Bootstrap, а также языка программирования JavaScript. 

На данный момент можно загрузить файл с компьютера или записать с помощью микрофона. Сделать сервис для записи непосредственно конференций пока не удалось.

Распознанный текст выводится на экран. Его можно подкорректировать вручную и сохранить в виде txt-файла. 

На данный момент, в сервис встроена нефайнтюниная самая маленькая из доступных моделей, чтобы обеспечить быстродействие на любом компьютере. Дообученная более тяжелая модель будет включена чуть позже.

### Как запустить сервис

1. Перейти в директорию service.

2. на 155 строке файла ./templates/index.html заменить адрес на адрес свой машины.

3. Чтобы получить доступ к записи с микрофона, если вы запускаете сервис на удаленном сервере, для гугл хром необходимо перейти в chrome://flags/#unsafely-treat-insecure-origin-as-secure и в раздел  Insecure origins treated as secure включить адрес своей машины вместе с портом, на котором находится сервис

4. Выполнить в командной строке следующие команды:

* docker build . -t asr_service
* docker run -d -p 8080:8080 -v $(pwd):/app asr_service

Модель загружается после построения контейнера. К сожалению, не придумал пока как это можно сделать иначе. Ныняшняя маленкая модель весит 155MB.


