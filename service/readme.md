# Cервис

### Как запустить сервис

(Можете попробовать открыть по ссылке http://158.160.105.217:8000/asr

Есть большая вероятность, что он у меня запущен в данный момент.  Только, если хотите сделать доступной запись микрофона, выполните пункт 3 из инструкции ниже)

1. Перейти в директорию service.

2. Проверить установлен ли плагин Loki (docker plugin -ls)
Если не установлен, выполнить команду docker plugin install grafana/loki-docker-driver:latest --alias loki --grant-all-permissions

2. на 155 строке файла .asr_app/templates/index.html заменить адрес на адрес свой машины.

3. Чтобы получить доступ к записи с микрофона, если вы запускаете сервис на удаленном сервере, для гугл хром необходимо перейти в chrome://flags/#unsafely-treat-insecure-origin-as-secure и в разделе  Insecure origins treated as secure включить адрес своей машины вместе с портом, на котором находится сервис

4. Выполнить в командной строке следующие команды:

* docker-compose build
* docker-compose up -d

Модель загружается после построения контейнера. Пока все еще загружается маленькая не файнтюниная модель. 07.07.23 добавлю дообученную.


